<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>四川料理菜单管理</title>
		<link rel="stylesheet" href="css/main.css" />
		<script src="js/jquery-1.11.1.min.js"></script>
	</head>
	<body>
		
		<div id='stars'></div>
		<div id='stars2'></div>
		<div id='stars3'></div>
		<div id='title'>
			<nav class="mynav">
				<ul>
					<li>
						<a href="" style="color: #fff;">首页</a>
					</li>
					<li>
						<a href="" style="color: #fff;">川菜食谱</a>
					</li>
					<li>
						<a href="" style="color: #fff;">川菜做法</a>
					</li>
					<li>
						<a href="" style="color: #fff;">川菜文化</a>
					</li>
					<li>
						<a href="" style="color: #fff;">川菜的健康营养</a>
					</li>
					<li>
						<a href="" style="color: #fff;">联系我们</a>
					</li>
				</ul>
			</nav>
			<span class="target"></span>
			<div class="panel-box">
				<table class="caidan" id="caidanTable" cellspacing="0">
				<thead>
					<tr>
						<td>序号</td>
						<td>菜名称</td>
						<td>菜图片</td>
						<td>菜价格</td>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>1 <input type="checkbox" name="checkbox"></td>
						<td>水煮肉</td>
						<td><img src="img/1.jpg"></td>
						<td>￥36.00元</td>
					</tr>
					<tr>
						<td>2 <input type="checkbox" name="checkbox"></td>
						<td>鱼香肉丝</td>
						<td><img src="img/2.jpg"></td>
						<td>￥38.00元</td>
					</tr>
					<tr>
					    <td>3 <input type="checkbox" name="checkbox"></td>
						<td>四川干煎鸡</td>
						<td><img src="img/3.jpg"></td>
						<td>￥28.00元</td>
					</tr>
					<tr>
						<td>4 <input type="checkbox" name="checkbox"></td>
						<td>麻婆豆腐</td>
						<td><img src="img/4.jpg"></td>
						<td>￥18.00元</td>
					</tr>
				</tbody>
			</table>
			<div class="caidan-btn">
				<button class="add-caidan" style="margin-right: 30px;" onclick="show()">添加菜单</button>
				<button class="dele-caidan" onclick="delTableRow()">删除菜单</button>
			</div>
			</div>
			
		</div>
		<div class="tck-back" id="anotherDiv_back" style="display: none;"></div>
		<div class="tck-box" id="anotherDiv" style="display: none;">
			<div class="tck-close"><a onclick="show();" href="javascript:;">X</a></div>
			<table class="caidan" cellspacing="0" style="margin-top: 0; margin-bottom: 30px;">
				<thead>
					<tr>
						<td width="25%">序号</td>
						<td width="25%">菜名称</td>
						<td width="25%">菜图片</td>
						<td width="25%">菜价格</td>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td><input type="text" id="xuhao" value=""></td>
						<td><input type="text" id="cainame" value=""></td>
						<td><input type="text" id="caipic" value=""></td>
						<td><input type="text" id="caivalu" value=""></td>
					</tr>
				</tbody>
			</table>
			<button id="sure" class="dele-caidan" style="float: right; margin-right: 50px; margin-bottom: 30px;">确定</button>
		</div>
		<script type="text/javascript">
			function show(){
				$("#anotherDiv_back").toggle();
				$("#anotherDiv").toggle();
			}
			$(document).ready(function(){
				$("#sure").click(function(){
					var xuhao= document.getElementById("xuhao").value;
					var cainame= document.getElementById("cainame").value;
					var caipic= document.getElementById("caipic").value;
					var caivalu= document.getElementById("caivalu").value;
					var html = "<tr><td>"+xuhao+" <input type='checkbox' name='checkbox'></td><td>"+cainame+"</td><td>"+caipic+"</td><td>"+caivalu+"</td></tr>";
					$("#caidanTable tbody").append(html);
			        $("#anotherDiv_back").hide();
					$("#anotherDiv").hide();
				});
			});
			function delTableRow(){
			    var boxes = document.getElementsByName("checkbox");
			    for(i=0;i<boxes.length;i++){
			        if(boxes[i].checked){
			            tr = boxes[i].parentNode.parentNode;
			            tr.parentNode.removeChild(tr);
			        }
			    }
			}
        </script>
		<script>
			"use strict";
			(function() {

				var target = document.querySelector(".target");
				var links = document.querySelectorAll(".mynav a");
				var colors = ["deepskyblue", "orange", "firebrick", "gold", "magenta", "black", "darkblue"];

				function mouseenterFunc() {
					if(!this.parentNode.classList.contains("active")) {
						for(var i = 0; i < links.length; i++) {
							if(links[i].parentNode.classList.contains("active")) {
								links[i].parentNode.classList.remove("active");
							}
							links[i].style.opacity = "0.25";
						}

						this.parentNode.classList.add("active");
						this.style.opacity = "1";

						var width = this.getBoundingClientRect().width;
						var height = this.getBoundingClientRect().height;
						var left = this.getBoundingClientRect().left + window.pageXOffset;
						var top = this.getBoundingClientRect().top + window.pageYOffset;
						var color = colors[Math.floor(Math.random() * colors.length)];

						target.style.width = width + "px";
						target.style.height = height + "px";
						target.style.left = left + "px";
						target.style.top = top + "px";
						target.style.borderColor = color;
						target.style.transform = "none";
					}
				}

				for(var i = 0; i < links.length; i++) {
					links[i].addEventListener("click", function(e) {
						return e.preventDefault();
					});
					links[i].addEventListener("mouseenter", mouseenterFunc);
				}

				function resizeFunc() {
					var active = document.querySelector(".mynav li.active");

					if(active) {
						var left = active.getBoundingClientRect().left + window.pageXOffset;
						var top = active.getBoundingClientRect().top + window.pageYOffset;

						target.style.left = left + "px";
						target.style.top = top + "px";
					}
				}

				window.addEventListener("resize", resizeFunc);
			})();
		</script>
	</body>
</html>
